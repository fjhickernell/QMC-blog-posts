\begin{comment}
\title{parslTestbookQMCblog}
\author{Dr. Sou-Cheng Choi, Illinois Tech and SouLab, Joshua Jay Herman (QMC Development Team)}
\date{September 2025}

\maketitle
Accelerating QMCpy Notebook Tests with Parsl
\end{comment}

\subsection{Introduction}

 This blog summarizes the speedup of notebook regression testing presented in our talk at ParslFest \cite{parslfest2025} 
 and highlights subsequent directions of the work. Regression testing of notebooks for QMCPy \cite{QMCPy2020a} is massively parallel and resource-intensive.

\subsection{Methodology}

 Choosing Testbook \cite{testbook2021} was primarily motivated by the usability of writing a test that can execute the notebook itself. It also fits well with our tests in a separate directory, where we have already implemented other tests without requiring execution of the full notebooks for clarity. Then we made a test harness that we could also have Parsl \cite{parsl2019} execute our testbook unit tests since it is embarrassingly parallel.

\subsection{Results}

To determine a baseline speedup with a subset of notebooks, we observed a speedup. 
After expanding our test coverage to search for syntax errors in additional notebooks, we now see a 4.4-fold speedup, which is consistent with our expectations, as illustrated in Figure~\ref{fig:parsl_speedup}. 

\begin{figure}[htbp]
    \centering
    \includegraphics[width=.7\textwidth]{booktests/parsl_speedup_chart_no_x_lines.png}
    \caption{Parallel testing speedup using Parsl against sequential execution of tests.}
    \label{fig:parsl_speedup}
\end{figure}

\scnote{Add details about architecture where the speedup were observed.}

\subsection{Further Work}

Due to the above results, this indicates that we should extend our testing to doctest and pytests in Parsl.

Now, because many people have multiâ€‘core processors, we can increase individual productivity so that our tests can demonstrate that no regressions have been introduced.

Furthermore, regarding feedback on the presentation to the ParslFest participants, the system is quite general. This suggests a distributed test system could benefit Parsl users by enabling them to distribute their own test workloads.

Finally, we could expand our work to encompass Python doctests, as well as unit testing using pytest or unittest, in addition to testing Jupyter notebooks. Once we have full unit test coverage we can explore adding Behavioral Driven Development by describing our tests in a domain specific language and using the Cucumber framework \cite{cucumber2025} so that we can codify the behavior of each test, making the tests more readable.


\scnote{Will put it in subfolder Add a link to the presentation slides and notebooks}

\scnote{add make testbook and add to readme on running juypter notebook tests}

\scnote{workflow fixing to github actions ask IIT person presentation}

\scnote{alexander culler ( german) lookup nvidia mental images , art owen}


